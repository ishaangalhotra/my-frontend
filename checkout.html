<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõí Checkout - Your Order</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .checkout-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
        }

        .checkout-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .checkout-header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .checkout-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            padding: 40px;
        }

        .checkout-form {
            max-width: 100%;
        }

        .form-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .form-section:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .form-section h2 {
            color: #333;
            margin-bottom: 25px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        input.error, select.error {
            border-color: #e74c3c;
            background: #fdf2f2;
        }

        .field-error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
        }

        .payment-methods {
            display: grid;
            gap: 15px;
        }

        .payment-option {
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .payment-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .payment-option.selected {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .payment-option input[type="radio"] {
            margin-right: 15px;
            width: auto;
        }

        .payment-option label {
            display: flex;
            align-items: center;
            cursor: pointer;
            margin: 0;
            font-size: 1.1rem;
        }

        .order-summary {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .order-summary h2 {
            color: #333;
            margin-bottom: 25px;
            text-align: center;
        }

        .cart-items {
            margin-bottom: 25px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .item-info h4 {
            color: #333;
            margin-bottom: 5px;
        }

        .item-info p {
            color: #666;
            font-size: 14px;
        }

        .item-price {
            font-weight: 600;
            color: #667eea;
        }

        .order-totals {
            border-top: 2px solid #eee;
            padding-top: 20px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .total-row.final {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            border-top: 1px solid #ddd;
            padding-top: 15px;
            margin-top: 15px;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 25px;
        }

        .checkout-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .checkout-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .security-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .security-badge {
            text-align: center;
            font-size: 12px;
            color: #666;
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            min-width: 300px;
        }

        .notification.notification-success { background: #2ecc71; }
        .notification.notification-error { background: #e74c3c; }
        .notification.notification-info { background: #3498db; }
        .notification.notification-warning { background: #f39c12; }

        .notification.fade-out {
            opacity: 0;
            transform: translateX(400px);
        }

        .empty-cart {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        .continue-shopping-btn {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
        }

        .remove-item-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 3px;
            padding: 2px 6px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .loading-text {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .checkout-content {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">üõí Preparing Your Checkout</div>
            <div class="loading-subtext">Setting up secure payment process...</div>
        </div>
    </div>

    <div class="container">
        <div class="checkout-header">
            <h1>üõí Checkout</h1>
            <p>Complete your purchase securely</p>
        </div>

        <div class="checkout-content">
            <div class="checkout-form">
                <!-- Shipping Address Section -->
                <div class="form-section">
                    <h2>üìç Shipping Information</h2>
                    
                    <form id="checkout-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Full Name *</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="country">Country *</label>
                                <select id="country" name="country" required>
                                    <option value="">Select Country</option>
                                    <option value="India" selected>India</option>
                                    <option value="USA">United States</option>
                                    <option value="UK">United Kingdom</option>
                                    <option value="Canada">Canada</option>
                                    <option value="Australia">Australia</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="address">Street Address *</label>
                            <textarea id="address" name="address" rows="3" placeholder="House/Flat number, Building name, Street name" required></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City *</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                            <div class="form-group">
                                <label for="state">State/Province *</label>
                                <input type="text" id="state" name="state" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="pincode">PIN/ZIP Code *</label>
                                <input type="text" id="pincode" name="pincode" required>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Payment Method Section -->
                <div class="form-section">
                    <h2>üí≥ Payment Method</h2>
                    <div class="payment-methods">
                        <div class="payment-option" onclick="selectPayment('card')">
                            <label>
                                <input type="radio" name="payment" value="card" checked>
                                üí≥ Credit/Debit Card
                            </label>
                        </div>
                        <div class="payment-option" onclick="selectPayment('upi')">
                            <label>
                                <input type="radio" name="payment" value="upi">
                                üì± UPI Payment
                            </label>
                        </div>
                        <div class="payment-option" onclick="selectPayment('netbanking')">
                            <label>
                                <input type="radio" name="payment" value="netbanking">
                                üè¶ Net Banking
                            </label>
                        </div>
                        <div class="payment-option" onclick="selectPayment('cod')">
                            <label>
                                <input type="radio" name="payment" value="cod">
                                üíµ Cash on Delivery
                            </label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="checkout-btn" id="checkout-btn">
                    üîí Place Order Securely
                </button>
            </div>

            <!-- Order Summary -->
            <div class="order-summary">
                <h2>üì¶ Order Summary</h2>
                
                <div class="cart-items" id="cart-items">
                    <!-- Cart items will be loaded here -->
                    <div class="loading">
                        <p>Loading cart items...</p>
                    </div>
                </div>

                <div class="order-totals">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span id="subtotal">‚Çπ0.00</span>
                    </div>
                    <div class="total-row">
                        <span>Shipping:</span>
                        <span id="shipping">‚Çπ50.00</span>
                    </div>
                    <div class="total-row">
                        <span>Tax (18%):</span>
                        <span id="tax">‚Çπ0.00</span>
                    </div>
                    <div class="total-row final">
                        <span>Total:</span>
                        <span id="total">‚Çπ0.00</span>
                    </div>
                </div>

                <div class="security-badges">
                    <div class="security-badge">
                        üîí<br>SSL Secured
                    </div>
                    <div class="security-badge">
                        üõ°Ô∏è<br>Safe Payment
                    </div>
                    <div class="security-badge">
                        ‚úÖ<br>Verified
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Loading screen logic
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.style.opacity = '0';
                setTimeout(function() {
                    loadingScreen.style.display = 'none';
                }, 500);
            }, 1000);
        });

        // Helper function for payment selection
        function selectPayment(method) {
            // Remove selected class from all options
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            event.currentTarget.classList.add('selected');
            
            // Check the radio button
            const radio = document.querySelector(`input[value="${method}"]`);
            if (radio) radio.checked = true;
        }

        // Initialize payment selection
        document.addEventListener('DOMContentLoaded', function() {
            // Set first payment option as selected by default
            const firstOption = document.querySelector('.payment-option');
            if (firstOption) {
                firstOption.classList.add('selected');
            }
        });
    </script>

    <!-- Include the enhanced checkout.js -->
    <script src="js/checkout.js"></script>
</body>
</html>

<!-- Integration Notes:
1. This HTML works with the enhanced checkout.js file
2. Removed conflicting embedded JavaScript
3. Added proper form structure and IDs that the enhanced JS expects
4. Included notification styles and loading screen
5. Simplified payment selection while maintaining functionality
6. Added proper form validation structure
-->